{"version":3,"sources":["../src/datatables.js"],"names":["define","$","log","debug","init","props","that","thetable","tableid","filterlabel","tableprops","initComplete","api","dataTable","column","filtercolumn","location","add_filter_column","dom","dt","DataTable","readinglabel","prependTo","select","appendTo","on","val","fn","util","escapeRegex","search","draw","data","unique","sort","each","d","append","trigger"],"mappings":"AAAAA,OAAM,qCAAC,CAAC,QAAD,CAAU,UAAV,CAAqB,gEAArB,CAAD,CAAyF,SAASC,CAAT,CAAWC,CAAX,CAA4B,CACvH,aAMAA,CAAG,CAACC,KAAJ,CAAU,mDAAV,EAEA,MAAM,CAEFC,IAAI,CAAE,cAASC,CAAT,CAAe,IAEbC,CAAAA,CAAI,CAAC,IAFQ,CAGbC,CAAQ,CAACN,CAAC,CAAC,IAAMI,CAAK,CAACG,OAAb,CAHG,CAIjB,GAAGH,CAAK,CAACI,WAAT,CAAqB,CACjBJ,CAAK,CAACK,UAAN,CAAiBC,YAAjB,CAAgC,UAAU,IAClCC,CAAAA,CAAG,CAAGX,CAAC,CAAC,IAAMI,CAAK,CAACG,OAAb,CAAD,CAAuBK,SAAvB,GAAmCD,GAAnC,EAD4B,CAElCE,CAAM,CAAEF,CAAG,CAACE,MAAJ,CAAWT,CAAK,CAACU,YAAjB,CAF0B,CAGlCC,CAAQ,CAAGX,CAAK,CAACG,OAAN,CAAgB,SAHO,CAItCF,CAAI,CAACW,iBAAL,CAAuBH,CAAvB,CAA8BE,CAA9B,CAAuCX,CAAK,CAACI,WAA7C,CACH,CALD,CAMAJ,CAAK,CAACK,UAAN,CAAiBQ,GAAjB,CAAuB,OAC1B,CACD,KAAKC,EAAL,CAAQZ,CAAQ,CAACa,SAAT,CAAmBf,CAAK,CAACK,UAAzB,CAEX,CAjBC,CAmBFO,iBAAiB,CAAE,2BAASH,CAAT,CAAgBE,CAAhB,CAAyBP,CAAzB,CAAqC,IAChDY,CAAAA,CAAY,CAAGpB,CAAC,CAAC,UAAYQ,CAAZ,CAA0B,UAA3B,CAAD,CAAwCa,SAAxC,CAAkD,IAAMN,CAAxD,CADiC,CAEhDO,CAAM,CAAGtB,CAAC,CAAC,mBAAD,CAAD,CACRuB,QADQ,CACCH,CADD,EAERI,EAFQ,CAEJ,QAFI,CAEM,UAAY,CACvB,GAAIC,CAAAA,CAAG,CAAGzB,CAAC,CAAC0B,EAAF,CAAKd,SAAL,CAAee,IAAf,CAAoBC,WAApB,CACN5B,CAAC,CAAC,IAAD,CAAD,CAAQyB,GAAR,EADM,CAAV,CAIAZ,CAAM,CACDgB,MADL,CACaJ,CAAG,CAAG,IAAIA,CAAJ,CAAQ,GAAX,CAAiB,EADjC,QAEKK,IAFL,EAGH,CAVQ,CAFuC,CAapDjB,CAAM,CAACkB,IAAP,GAAcC,MAAd,GAAuBC,IAAvB,GAA8BC,IAA9B,CAAoC,SAAWC,CAAX,CAAkB,CAClDb,CAAM,CAACc,MAAP,CAAe,mBAAkBD,CAAlB,CAAoB,KAApB,CAAyBA,CAAzB,CAA2B,WAA1C,CACH,CAFD,EAIAb,CAAM,CAACe,OAAP,CAAe,QAAf,CACH,CArCC,CAuCT,CAhDK,CAAN","sourcesContent":["define(['jquery','core/log','https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js'], function($,log, datatables) {\n    \"use strict\"; // jshint ;_;\n\n/*\nThis file contains class and ID definitions.\n */\n\n    log.debug('ReadAloud Teacher Datatables helper: initialising');\n\n    return{\n        //pass in config, amd set up table\n        init: function(props){\n            //pick up opts from html\n            var that=this;\n            var thetable=$('#' + props.tableid);\n            if(props.filterlabel){\n                props.tableprops.initComplete = function(){\n                    var api = $('#' + props.tableid).dataTable().api();\n                    var column= api.column(props.filtercolumn);\n                    var location = props.tableid + '_length';\n                    that.add_filter_column(column,location,props.filterlabel);\n                };\n                props.tableprops.dom = 'lrtip';\n            }\n            this.dt=thetable.DataTable(props.tableprops);\n\n        },\n\n        add_filter_column: function(column,location,filterlabel){\n            var readinglabel = $('<label>' + filterlabel + '</label>').prependTo('#' + location );\n            var select = $('<select></select>')\n                .appendTo(readinglabel)\n                .on( 'change', function () {\n                    var val = $.fn.dataTable.util.escapeRegex(\n                        $(this).val()\n                    );\n\n                    column\n                        .search( val ? '^'+val+'$' : '', true, false )\n                        .draw();\n                });\n            column.data().unique().sort().each( function ( d, j ) {\n                select.append( '<option value=\"'+d+'\">'+d+'</option>' )\n            });\n\n            select.trigger(\"change\");\n        }\n    };//end of return value\n});"],"file":"datatables.min.js"}